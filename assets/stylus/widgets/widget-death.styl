// widget-death.styl - Styles for Death causes visualization

// Specific styles for widget-death-viz
#widget-death-viz
    .viz-container
        margin: 0
        margin-top: 0
        width: 100% // Full width to expand to container edges
        padding: 0 !important // No padding to maximize space usage
        height: 80vh // Fixed 85vh mask height (increased from 80vh)
        
        +media(tablet-v)
            width: 100%
            padding: 0
            height: 80vh
            
        +media(tablet-h)
            width: 100%
            padding: 0
            height: 80vh
        
        +media(desktop)
            height: 80vh

    svg
        width: 100%
        height: auto
        display: block
        overflow: visible

    // Bar container styles
    .death-bar
        cursor: default // No interaction for now

    // Rectangle styles
    .bar-rect
        transition: opacity 0.3s ease
        
        // Ensure rectangles maintain rounded corners
        shape-rendering: geometricPrecision

    // Text styling inside bars - positioned top left
    .bar-text
        pointer-events: none // Text should not interfere with interactions
        display: flex
        align-items: flex-end
        
        // Death cause name label
        .death-name-label
            @extend .sans-paragraph
            fill: brand-white // Use brand-white color
            text-anchor: start // Left aligned

            +media(tablet-h)
                @extend .sans-caption
            
        // Death count number label
        .death-count-label
            @extend .sans-scheme
            fill: brand-white // Use brand-white color
            text-anchor: start // Left aligned

// Override for bars where text should be hidden (controlled by JavaScript)
.death-bar
    .bar-text
        // Opacity controlled by JavaScript based on bar height (minimum 45px)
        transition: opacity 0.3s ease

#widget-death-viz.expand-bars
    .bar-rect
        transition: height 1s cubic-bezier(0.23, 1, 0.32, 1)